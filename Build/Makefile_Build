ifeq ($(USE_OACC),TRUE)
   USE_GPU = TRUE
else ifeq ($(USE_OMP_OL),TRUE)
   USE_GPU = TRUE
else ifeq ($(USE_CUBLAS),TRUE)
   USE_GPU = TRUE
else ifeq ($(USE_MAGMA),TRUE)
   USE_GPU = TRUE
else ifeq ($(USE_HIPBLAS),TRUE)
   USE_GPU = TRUE
endif

USE_GPU ?= FALSE
ifeq ($(USE_GPU),TRUE)

   USE_CUDA  ?= TRUE
   USE_HIP   ?= FALSE

   USE_OMP   ?= FALSE

   USE_OACC  ?= FALSE
   ifeq ($(USE_OACC),TRUE)
      USE_OMP_OL ?= FALSE
   else
      USE_OMP_OL ?= TRUE
   endif

   USE_MAGMA ?= FALSE
   ifeq ($(USE_MAGMA),TRUE)
      USE_CUBLAS ?= FALSE
      USE_HIPBLAS ?= FALSE
   else
      ifeq ($(USE_CUDA),TRUE)
          USE_CUBLAS ?= TRUE
          USE_HIPBLAS ?= FALSE
      else ifeq ($(USE_HIP),TRUE)
          USE_CUBLAS ?= FALSE
          USE_HIPBLAS ?= TRUE
      endif
   endif

else

   USE_CUDA   ?= FALSE
   USE_HIP    ?= FALSE
   USE_OMP    ?= FALSE
   USE_OACC   ?= FALSE
   USE_OMP_OL ?= FALSE
   USE_MAGMA  ?= FALSE
   USE_CUBLAS ?= FALSE
   USE_HIPBLAS ?= FALSE

endif

include $(THORNADO_DIR)/Build/Makefile_Path
include $(THORNADO_DIR)/Build/Makefile_Thornado_ObjectFiles
include $(THORNADO_DIR)/Build/Makefile_Compilers
include $(THORNADO_DIR)/Build/Makefile_Suffixes
